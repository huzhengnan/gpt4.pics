
# AI 图像生成网站组件详细结构

## 组件结构

### 布局组件
1. **Layout** - 提供整个应用的基本布局
   - 包含导航栏和页脚
   - 处理暗色/亮色模式切换
   - 适配不同页面路由

2. **Footer** - 页面底部组件
   - 包含品牌信息、链接和版权信息
   - 包含法律相关页面链接（Terms, Privacy）
   - 显示 AI Image Generator 版权信息

### 导航组件
1. **Navbar** - 顶部导航栏
   - 处理导航菜单
   - 响应式设计，支持移动端和桌面端
   - 暗色/亮色模式切换按钮
   - 品牌标识和链接

### 图像生成组件
1. **ImageGenerator** - 主要图像生成组件
   - 提示词输入区域（textarea）
   - 图像尺寸选择下拉菜单
   - 生成按钮和加载状态
   - 错误信息显示
   - 生成的图像展示区域
   - 图像下载按钮
   - 生成历史记录显示

### API 路由
1. **generate-image** - 图像生成API端点
   - 接收提示词和尺寸参数
   - 调用外部图像生成API
   - 错误处理和响应格式化
   - 支持不同尺寸的图像生成

2. **struct** - 项目结构生成API端点
   - 递归获取项目目录结构
   - 支持多种输出格式（JSON、文本、Markdown）
   - 过滤不相关文件和目录

3. **project-plan** - 项目规划API端点
   - 返回项目规划的Markdown文档
   - 包含项目概述、技术栈、功能模块等信息

### 类型定义
1. **types/image.ts** - 定义图像相关类型
   - ImageGenerationRequest: 图像生成请求类型
   - ImageGenerationResponse: 图像生成响应类型

### 工具函数
1. **utils/helpers.ts** - 辅助函数
   - 文本处理函数
   - 错误处理函数
   - 格式化函数

## 页面结构
- / - 主页（图像生成界面）

## 样式系统
- **全局样式** - 使用 Tailwind CSS
- **组件样式** - 使用 Tailwind 组件类
  - 按钮样式
  - 卡片样式
  - 输入框样式
  - 加载状态样式

## 状态管理
- 使用 React 的 useState 和 useEffect 钩子
- 主要状态：
  - 提示词输入状态
  - 图像尺寸选择状态
  - 加载状态
  - 错误状态
  - 生成的图像URL状态
  - 历史记录状态
  - 暗色/亮色模式状态

## 交互功能
- 提示词输入和验证
- 图像尺寸选择
- 图像生成请求发送
- 加载状态显示
- 错误信息展示
- 生成图像展示
- 图像下载
- 历史记录浏览
- 暗色/亮色模式切换

## 响应式设计
- 使用 Tailwind 的响应式类
- 移动设备优先设计
- 断点：
  - sm: 640px+
  - md: 768px+
  - lg: 1024px+
  - xl: 1280px+
  - 2xl: 1536px+

## 图像处理
- 支持多种图像尺寸：
  - 1024x1024（正方形）
  - 1024x1792（竖向）
  - 1792x1024（横向）
- 图像预览和缩放
- 图像下载功能
- 图像历史记录

## 安全性
- API密钥保护
- 请求验证
- 错误处理和日志记录
- 输入内容过滤

## 性能优化
- 图像懒加载
- 组件懒加载
- 缓存策略
- Next.js 图像优化

## 部署
- 使用 Next.js 构建
- 可部署到 Vercel 或其他支持 Next.js 的平台